<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>3F Resinados - Sistema de Produção</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<link href="https://3fresinados.com.br/wp-content/uploads/2025/05/SVG-Icon-App-Producao.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://3fresinados.com.br/wp-content/uploads/2025/05/SVG-Icon-App-Producao.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://3fresinados.com.br/wp-content/uploads/2025/05/SVG-Icon-App-Producao.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://3fresinados.com.br/wp-content/uploads/2025/05/SVG-Icon-App-Producao.png" rel="shortcut icon"/>

<link href="style.css" rel="stylesheet"/></head>
<body class="min-h-screen">
<header class="header">
<div class="container mx-auto px-4 py-4 flex flex-wrap justify-between items-center">
<div class="flex items-center">
<img alt="3F Resinados" class="header-logo" onerror="this.style.display='none'; document.getElementById('headerTitleText').classList.remove('hidden');" src="https://3fresinados.com.br/wp-content/uploads/2022/06/Logo-Oficial-Fundo-Branco-300x63.png"/>
<h1 class="text-xl font-semibold hidden" id="headerTitleText">Sistema de Produção</h1>
</div>
<div class="flex items-center space-x-4 mt-2 md:mt-0" id="headerRightControls">
<div class="notification-bell-container hidden" id="notificationBellContainer">
<button class="text-gray-500 hover:text-brand-orange transition-colors p-2" id="notificationBellBtn">
<svg class="icon-lg" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span class="notification-count-badge hidden" id="notificationCountBadge">0</span>
</button>
<div class="hidden shadow-lg" id="notificationDropdown">
<div class="flex justify-between items-center p-3 border-b border-gray-200">
<h4 class="text-sm font-semibold">Notificações</h4>
<button class="text-xs text-brand-orange hover:underline" id="markAllNotificationsReadBtn">Marcar todas como lidas</button>
<button class="text-xs text-red-600 hover:underline ml-2" id="clearAllNotificationsBtn">Limpar notificações</button>
</div>
<div class="max-h-80 overflow-y-auto" id="notificationList">
<p class="text-center text-gray-500 py-4 text-sm">Nenhuma notificação.</p>
</div>
</div>
</div>
<div class="flex items-center space-x-2 hidden" id="userInfo">
<span class="text-sm text-gray-600 font-medium" id="userNameDisplay"></span>
<button class="btn btn-secondary btn-sm" id="logoutBtn">Sair</button>
</div>
</div>
<div class="text-xs text-gray-500 mt-2 md:mt-0" id="authStatusContainerGlobal">
<span class="font-medium" id="appIdDisplay"></span> | <span id="authUserIdGlobal"></span>
</div>
</div>
</header>
<section class="min-h-screen flex items-center justify-center p-4" id="loginSection">
<div class="card w-full max-w-md">
<div class="text-center mb-8">
<img alt="3F Resinados" class="mx-auto h-12 w-auto mb-4" src="https://3fresinados.com.br/wp-content/uploads/2022/06/Logo-Oficial-Fundo-Branco-300x63.png"/>
<h2 class="text-2xl font-semibold text-gray-900 mb-2">Bem-vindo</h2>
<p class="text-gray-600">Acesse o sistema de produção</p>
</div>
<form class="space-y-4" id="loginForm">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="loginEmail">Email</label>
<input class="form-input w-full" id="loginEmail" required="" type="email"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="loginPassword">Senha</label>
<input class="form-input w-full" id="loginPassword" required="" type="password"/>
</div>
<button class="btn btn-primary w-full" type="submit">Entrar</button>
</form>
<p class="text-red-500 text-sm mt-4 text-center hidden" id="loginError"></p>
</div>
</section>
<div class="hidden" id="appContent">
<nav class="nav">
<div class="container mx-auto px-4 flex overflow-x-auto" id="mainNavigation">
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="dashboard" id="navDashboardBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Dashboard
                </button>
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="estimatesControl" id="navEstimatesControlBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Controle Estimativas
                </button>
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="newOrder" id="navNewOrderBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M12 6v6m0 0v6m0-6h6m-6 0H6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Novo Pedido
                </button>
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="myQueue" id="navMyQueueBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Minha Fila
                </button>
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="allOrders">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Pedidos
                </button>
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="reports">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Relatórios
                </button>
<button class="nav-link flex items-center gap-2 whitespace-nowrap" data-section="userManagement" id="navUserManagementBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                    Colaboradores
                </button>
</div>
</nav>
<main class="container mx-auto px-4 pb-8">
<section class="section-content p-6" id="dashboardSection">
<div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
<h2 class="text-xl font-semibold" id="dashboardTitle">Dashboard de Tempos</h2>
<div class="flex items-center gap-3">
<input class="form-input" id="dashboardFilterInput" placeholder="Filtrar por ID ou Cliente..." type="text"/>
<button class="btn btn-secondary btn-sm" id="clearDashboardFilterBtn">Limpar</button>
</div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="timeDashboardContainer">
<div class="card text-center">
<div class="loading-spinner mx-auto mb-3"></div>
<p class="text-gray-500">Carregando dados...</p>
</div>
</div>
</section>
<section class="section-content hidden p-6" id="estimatesControlSection">
<div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
<h2 class="text-xl font-semibold">Controle de Estimativas</h2>
<div class="flex items-center gap-3">
<input class="form-input" id="estimatesControlFilterInput" placeholder="Filtrar por ID ou Cliente..." type="text"/>
<button class="btn btn-secondary btn-sm" id="clearEstimatesControlFilterBtn">Limpar</button>
</div>
</div>
<div id="estimatesControlContainer">
<div class="card text-center">
<div class="loading-spinner mx-auto mb-3"></div>
<p class="text-gray-500">Carregando controle de estimativas...</p>
</div>
</div>
</section>
<section class="section-content hidden p-6" id="newOrderSection">
<h2 class="text-xl font-semibold mb-6">Criar Novo Pedido</h2>
<form class="space-y-8" id="orderForm">
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="clientName">Nome do Cliente</label>
<input class="form-input w-full" id="clientName" required="" type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="deliveryDate">Data de Entrega</label>
<input class="form-input w-full" id="deliveryDate" required="" type="date"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="priority">Prioridade</label>
<select class="form-select w-full" id="priority">
<option value="normal">Normal</option>
<option value="alta">Alta</option>
<option value="urgente">Urgente</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="coverImageUrl">URL da Imagem</label>
<input class="form-input w-full" id="coverImageUrl" placeholder="https://exemplo.com/imagem.png" type="url"/>
</div>
</div>
<div>
<h3 class="text-lg font-medium mb-4">Itens do Pedido</h3>
<div class="space-y-4" id="orderItemsContainer"></div>
<button class="btn btn-secondary btn-sm mt-4" id="addOrderItemBtn" type="button">
<svg class="icon-sm mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M12 6v6m0 0v6m0-6h6m-6 0H6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                            Adicionar Item
                        </button>
</div>
<div>
<h3 class="text-lg font-medium mb-4">Etapas de Produção</h3>
<div class="grid grid-cols-2 lg:grid-cols-4 gap-4" id="productionStagesCheckboxes"></div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="description">Observações</label>
<textarea class="form-input w-full" id="description" placeholder="Detalhes do pedido..." rows="3"></textarea>
</div>
<button class="btn btn-primary" type="submit">
<svg class="icon-sm mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                        Iniciar Coleta de Estimativas
                    </button>
</form>
</section>
<section class="section-content hidden p-6" id="myQueueSection">
<div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
<h2 class="text-xl font-semibold" id="myQueueTitle">Minha Fila de Trabalho</h2>
<div class="flex items-center gap-3">
<input class="form-input" id="myQueueFilterInput" placeholder="Filtrar..." type="text"/>
<button class="btn btn-secondary btn-sm" id="clearMyQueueFilterBtn">Limpar</button>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
<div>
<h3 class="text-lg font-medium mb-4 pb-2 border-b border-gray-200 flex items-center gap-2">
<svg class="icon text-yellow-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                            Aguardando Estimativa
                        </h3>
<div class="space-y-4" id="myQueueEstimationList">
<p class="text-gray-500">Nenhum pedido aguardando sua estimativa.</p>
</div>
</div>
<div>
<h3 class="text-lg font-medium mb-4 pb-2 border-b border-gray-200 flex items-center gap-2">
<svg class="icon text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
<path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                            Em Produção / Revisão
                        </h3>
<div class="space-y-4" id="myQueueProductionList">
<p class="text-gray-500">Nenhum pedido em produção.</p>
</div>
</div>
</div>
</section>
<section class="section-content hidden p-6" id="allOrdersSection">
<div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
<h2 class="text-xl font-semibold">Todos os Pedidos</h2>
<div class="flex items-center gap-3">
<input class="form-input" id="orderFilterInput" placeholder="Filtrar por ID ou Cliente..." type="text"/>
<button class="btn btn-secondary btn-sm" id="clearOrderFilterBtn">Limpar</button>
<button class="btn btn-warning btn-sm hidden" id="toggleOrderSelectionModeBtn">Selecionar para Excluir</button>
<button class="btn btn-danger btn-sm hidden" id="deleteSelectedOrdersBtn">Excluir Selecionados</button>
</div>
</div>
<div class="overflow-x-auto">
<table class="min-w-full">
<thead>
<tr>
<th class="text-center w-12 order-select-th hidden">Sel.</th>
<th class="text-left">ID</th>
<th class="text-left">Cliente</th>
<th class="text-left">Itens</th>
<th class="text-left">Fase</th>
<th class="text-left">Status</th>
<th class="text-left">Criado em</th> <th class="text-left">Início Prod.</th>
<th class="text-left">Entrega</th>
<th class="text-left">Prioridade</th>
<th class="text-left">T. Estimado</th>
<th class="text-left">Ações</th>
</tr>
</thead>
<tbody id="allOrdersTableBody">
<tr>
<td class="text-center py-8 text-gray-500" colspan="12">
                                    Nenhum pedido cadastrado.
                                </td>
</tr>
</tbody>
</table>
</div>
</section>
<section class="section-content hidden p-6" id="reportsSection">
<div class="flex justify-between items-center mb-6">
<h2 class="text-xl font-semibold">Relatórios de Produção</h2>
<div class="flex gap-2">
<button class="btn btn-secondary btn-sm" id="reportViewListBtn">Lista</button>
<button class="btn btn-secondary btn-sm" id="reportViewCalendarBtn">Calendário</button>
</div>
</div>
<div id="dailyLoadReportListContainer">
<h3 class="text-lg font-medium mb-4 flex items-center gap-2">
<svg class="icon text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M8 7V3a4 4 0 118 0v4M5 21h14a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                        Carga de Produção por Dia (Lista)
                    </h3>
<div class="space-y-3" id="dailyLoadReportContainer">
<div class="card text-center">
<div class="loading-spinner mx-auto mb-3"></div>
<p class="text-gray-500">Calculando carga...</p>
</div>
</div>
</div>
<div class="calendar-container hidden mt-6" id="calendarViewContainer">
<div class="flex justify-center items-center mb-4 gap-4" id="calendarModeToggleContainer">
<span class="text-sm font-medium text-gray-700">Visualizar Calendário Por:</span>
<button class="btn btn-primary btn-xs" id="calendarModeDeliveryBtn">Data de Entrega</button>
<button class="btn btn-secondary btn-xs" id="calendarModeProductionBtn">Data de Produção</button>
</div>
<div class="calendar-header">
<button class="btn btn-secondary btn-icon" id="prevMonthBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
</button>
<h4 id="calendarMonthYear"></h4>
<button class="btn btn-secondary btn-icon" id="nextMonthBtn">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
</button>
</div>
<div class="calendar-grid" id="calendarDaysNames">
</div>
<div class="calendar-grid" id="calendarDaysGrid">
</div>
</div>
</section>
<section class="section-content hidden p-6" id="userManagementSection">
<h2 class="text-xl font-semibold mb-6">Gestão de Colaboradores</h2>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
<div>
<h3 class="text-lg font-medium mb-4">Adicionar Colaborador</h3>
<form class="space-y-4" id="addCollaboratorForm">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="collabName">Nome</label>
<input class="form-input w-full" id="collabName" required="" type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="collabEmail">Email</label>
<input class="form-input w-full" id="collabEmail" required="" type="email"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="collabPassword">Senha Inicial</label>
<input class="form-input w-full" id="collabPassword" minlength="6" required="" type="password"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2" for="collabRole">Função</label>
<select class="form-select w-full" id="collabRole">
<option value="employee">Colaborador</option>
<option value="manager">Gerente</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-3">Departamentos</label>
<div class="grid grid-cols-2 gap-3" id="collabStagesCheckboxes"></div>
</div>
<button class="btn btn-primary" type="submit">
<svg class="icon-sm mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
                                Adicionar
                            </button>
</form>
</div>
<div>
<h3 class="text-lg font-medium mb-4">Colaboradores Cadastrados</h3>
<div class="space-y-3" id="collaboratorsList">
<p class="text-gray-500">Nenhum colaborador cadastrado.</p>
</div>
</div>
</div>
</section>
</main>
</div>
<div class="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50 hidden" id="genericModal">
<div class="modal-content p-6 w-full max-w-md">
<div class="flex justify-between items-center mb-4">
<h3 class="text-lg font-semibold" id="genericModalTitle">Modal</h3>
<button class="text-gray-400 hover:text-gray-600 transition-colors" onclick="closeGenericModal()">
<svg class="icon" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
</div>
<div id="genericModalBody">
<p class="text-gray-600 mb-6" id="genericModalMessage">Mensagem.</p>
</div>
<div class="flex justify-end gap-3" id="genericModalActions">
<button class="btn btn-secondary btn-sm" onclick="closeGenericModal()">Fechar</button>
</div>
</div>
</div>
<div class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-60 hidden" id="imagePreviewModal">
<div class="relative">
<button class="absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors" onclick="closeImagePreviewModal()">
<svg class="w-8 h-8" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
<img alt="Preview" class="max-w-full max-h-[80vh] rounded-lg" id="previewImageSrc" src=""/>
</div>
</div>
<div class="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50 hidden overflow-y-auto" id="orderDetailsReportModal">
<div class="modal-content p-6 w-full max-w-3xl max-h-[90vh] flex flex-col bg-white rounded-xl shadow-2xl">
<div class="flex justify-between items-center mb-6 border-b border-gray-200 pb-4">
<h3 class="text-xl font-semibold text-brand-orange" id="orderDetailsReportModalTitle">Relatório Detalhado do Pedido</h3>
<button class="text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100" onclick="closeOrderDetailsReportModal()">
<svg class="icon-lg" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
</div>
<div class="space-y-6 overflow-y-auto pr-2 flex-grow" id="orderDetailsReportModalBody">
<div class="bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Informações do Pedido</h4>
<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3 text-sm">
<div><strong class="text-gray-600">Cliente:</strong> <span class="text-gray-900" id="reportClientName"></span></div>
<div><strong class="text-gray-600">Pedido ID:</strong> <span class="text-gray-900 font-mono text-xs" id="reportOrderId"></span></div>
<div><strong class="text-gray-600">Criado em:</strong> <span class="text-gray-900" id="reportCreatedAt"></span></div> <div><strong class="text-gray-600">Início Produção:</strong> <span class="text-gray-900" id="reportProductionStartDate"></span></div>
<div><strong class="text-gray-600">Data Entrega:</strong> <span class="text-gray-900" id="reportDeliveryDate"></span></div>
<div><strong class="text-gray-600">Prioridade:</strong> <span class="text-gray-900" id="reportPriority"></span></div>
<div><strong class="text-gray-600">Fase Atual:</strong> <span class="text-gray-900" id="reportOrderPhase"></span></div>
<div class="md:col-span-2"><strong class="text-gray-600">Status:</strong> <span class="text-gray-900" id="reportOrderStatus"></span></div>
</div>
</div>
<div class="mt-4 bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Imagem de Referência</h4>
<div class="flex justify-center items-center">
<img alt="Imagem de Referência do Pedido" class="max-w-md max-h-80 rounded-md border border-gray-200 shadow-sm hidden object-contain" id="reportCoverImage" src=""/>
<p class="text-gray-500 text-sm hidden italic" id="reportCoverImageError">Nenhuma imagem fornecida ou falha ao carregar.</p>
</div>
</div>
<div class="mt-4 bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Itens do Pedido</h4>
<div class="space-y-2 text-sm" id="reportOrderItems"></div>
</div>
<div class="mt-4 bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Etapas de Produção Selecionadas</h4>
<ul class="list-disc list-inside text-sm space-y-1 pl-5" id="reportSelectedStages"></ul>
</div>
<div class="mt-4 bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Observações Gerais (Pedido)</h4>
<p class="text-sm text-gray-700 whitespace-pre-wrap" id="reportDescription"></p>
</div>
<div class="mt-4 bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Timeline Detalhada</h4>
<div class="space-y-4 text-sm" id="reportDetailedTimeline"></div>
</div>
<div class="mt-4 bg-slate-50 p-4 rounded-lg shadow-sm">
<h4 class="text-lg font-semibold mb-3 text-gray-800 border-b pb-2">Controle de Qualidade (para preenchimento)</h4>
<div class="overflow-x-auto" id="reportQualityControlTable">
<table class="min-w-full text-sm border border-gray-200">
<thead class="bg-gray-100">
<tr>
<th class="p-2 border border-gray-300 text-left">Item</th>
<th class="p-2 border border-gray-300 text-left">Responsável</th>
<th class="p-2 border border-gray-300 text-center">OK</th>
<th class="p-2 border border-gray-300 text-center">NOK</th>
<th class="p-2 border border-gray-300 text-left">Observações</th>
</tr>
</thead>
<tbody class="bg-white" id="reportQCTableBody">
</tbody>
</table>
<div class="mt-3">
<p class="font-medium text-gray-700 mb-1">Observações Manuais (Controle de Qualidade):</p>
<div class="border border-gray-300 rounded-md p-2 h-24 bg-gray-50 text-gray-400 italic">Espaço para anotações...</div>
</div>
</div>
</div>
</div>
<div class="mt-6 pt-4 border-t border-gray-200 flex justify-end gap-3" id="orderDetailsReportModalActions">
<button class="btn btn-secondary" onclick="closeOrderDetailsReportModal()">Fechar</button>
</div>
</div>
</div>
<div class="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50 hidden overflow-y-auto" id="dailyLoadDetailsModal">
<div class="modal-content p-6 w-full max-w-2xl max-h-[80vh] flex flex-col bg-white rounded-xl shadow-2xl">
<div class="flex justify-between items-center mb-4 border-b border-gray-200 pb-3">
<h3 class="text-lg font-semibold text-brand-orange" id="dailyLoadDetailsModalTitle">Pedidos para o Dia</h3>
<button class="text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100" onclick="closeDailyLoadDetailsModal()">
<svg class="icon-lg" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
</div>
<div class="space-y-3 overflow-y-auto pr-2 flex-grow" id="dailyLoadDetailsModalBody">
<p class="text-gray-500 italic">Carregando detalhes dos pedidos...</p>
</div>
<div class="mt-4 pt-3 border-t border-gray-200 flex justify-end">
<button class="btn btn-secondary btn-sm" onclick="closeDailyLoadDetailsModal()">Fechar</button>
</div>
</div>
</div>
<div class="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50 hidden" id="editOrderDatesModal">
<div class="modal-content p-6 w-full max-w-lg bg-white rounded-xl shadow-2xl">
<div class="flex justify-between items-center mb-6 border-b border-gray-200 pb-4">
<h3 class="text-xl font-semibold text-brand-orange">Editar Datas do Pedido</h3>
<button class="text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100" onclick="closeEditOrderDatesModal()">
<svg class="icon-lg" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
</div>
<form class="space-y-4" id="editOrderDatesForm">
<input id="editOrderId" type="hidden"/>
<div>
<label class="block text-sm font-medium text-gray-700 mb-1" for="editProductionStartDate">Nova Data de Início da Produção:</label>
<input class="form-input w-full" id="editProductionStartDate" type="date"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-1" for="editDeliveryDate">Nova Data de Entrega:</label>
<input class="form-input w-full" id="editDeliveryDate" type="date"/>
</div>
</form>
<div class="mt-6 pt-4 border-t border-gray-200 flex justify-end gap-3">
<button class="btn btn-secondary" onclick="closeEditOrderDatesModal()" type="button">Cancelar</button>
<button class="btn btn-primary" id="saveOrderDatesBtn" type="button">Salvar Alterações</button>
</div>
</div>
</div>
<div class="fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50 hidden" id="editCollaboratorModal">
<div class="modal-content p-6 w-full max-w-lg bg-white rounded-xl shadow-2xl">
<div class="flex justify-between items-center mb-6 border-b border-gray-200 pb-4">
<h3 class="text-xl font-semibold text-brand-orange">Editar Colaborador</h3>
<button class="text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100" onclick="closeEditCollaboratorModal()">
<svg class="icon-lg" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</button>
</div>
<form class="space-y-4" id="editCollaboratorForm">
<input id="editCollaboratorId" type="hidden"/>
<div>
<label class="block text-sm font-medium text-gray-700 mb-1" for="editCollabName">Nome</label>
<input class="form-input w-full" id="editCollabName" required="" type="text"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-1" for="editCollabEmail">Email (não editável)</label>
<input class="form-input w-full bg-gray-100" id="editCollabEmail" readonly="" type="email"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-1" for="editCollabRole">Função</label>
<select class="form-select w-full" id="editCollabRole">
<option value="employee">Colaborador</option>
<option value="manager">Gerente</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">Departamentos</label>
<div class="grid grid-cols-2 gap-3" id="editCollabStagesCheckboxes">
</div>
</div>
</form>
<div class="mt-6 pt-4 border-t border-gray-200 flex justify-end gap-3">
<button class="btn btn-secondary" onclick="closeEditCollaboratorModal()" type="button">Cancelar</button>
<button class="btn btn-primary" id="saveCollaboratorChangesBtn" type="button">Salvar Alterações</button>
</div>
</div>
</div>
<div class="fixed inset-0 modal-backdrop flex items-center justify-center z-50 hidden" id="loadingIndicator">
<div class="bg-white rounded-lg p-6 flex items-center gap-4">
<div class="loading-spinner"></div>
<p class="font-medium">Processando...</p>
</div>
</div>
<div id="toastContainer"></div>

<script src="app.js" type="module"></script></body>
</html>
